<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Machine Transfer Management System - Boxtel</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary: #FF6B00;
            --secondary: #003DA5;
            --success: #4CAF50;
            --warning: #FF9800;
            --danger: #f44336;
            --dark: #2c3e50;
            --light: #ecf0f1;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #003DA5 0%, #FF6B00 100%);
            min-height: 100vh;
            padding: 15px;
        }
        
        .language-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1001;
            display: flex;
            gap: 5px;
            background: white;
            padding: 5px;
            border-radius: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }
        
        .lang-btn {
            padding: 8px 15px;
            border: none;
            background: transparent;
            cursor: pointer;
            border-radius: 20px;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .lang-btn.active {
            background: var(--primary);
            color: white;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.98);
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        /* Header */
        .header {
            background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
            color: white;
            padding: 20px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .header h1 {
            font-size: 24px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .header-info {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .deadline {
            background: rgba(255,255,255,0.2);
            padding: 8px 15px;
            border-radius: 8px;
            backdrop-filter: blur(10px);
            font-size: 14px;
            font-weight: 500;
        }
        
        .deadline.critical {
            background: rgba(244,67,54,0.3);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(255,255,255,0.2);
            padding: 8px 15px;
            border-radius: 8px;
            font-size: 14px;
        }
        
        .auth-status {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 15px;
            background: rgba(76,175,80,0.2);
            border-radius: 8px;
            font-size: 13px;
        }
        
        .auth-status.locked {
            background: rgba(244,67,54,0.2);
        }
        
        /* Navigation */
        .nav-tabs {
            display: flex;
            background: #f8f9fa;
            padding: 0;
            border-bottom: 2px solid #e0e0e0;
            overflow-x: auto;
        }
        
        .nav-tab {
            padding: 12px 20px;
            cursor: pointer;
            background: none;
            border: none;
            font-size: 14px;
            font-weight: 500;
            color: #666;
            transition: all 0.3s;
            position: relative;
            white-space: nowrap;
        }
        
        .nav-tab:hover {
            background: rgba(255, 107, 0, 0.1);
        }
        
        .nav-tab.active {
            color: var(--primary);
            background: white;
        }
        
        .nav-tab.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--primary);
        }
        
        /* Control Panel */
        .control-panel {
            padding: 15px 20px;
            background: #f8f9fa;
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 500;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 6px;
            white-space: nowrap;
        }
        
        .btn-primary {
            background: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            background: #e55a00;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(255, 107, 0, 0.3);
        }
        
        .btn-secondary {
            background: white;
            color: #666;
            border: 1px solid #ddd;
        }
        
        .btn-secondary:hover {
            background: #f8f9fa;
        }
        
        .btn-danger {
            background: var(--danger);
            color: white;
        }
        
        .btn-success {
            background: var(--success);
            color: white;
        }
        
        .search-box {
            flex: 1;
            min-width: 200px;
            max-width: 400px;
        }
        
        .search-box input {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 13px;
        }
        
        .filter-group {
            display: flex;
            gap: 8px;
            align-items: center;
        }
        
        .filter-group label {
            font-size: 13px;
            color: #666;
            font-weight: 500;
        }
        
        select {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 13px;
            background: white;
            cursor: pointer;
        }
        
        /* Content Area */
        .content {
            padding: 20px;
            min-height: 500px;
        }
        
        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .stat-card {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            transition: transform 0.3s;
            border-left: 4px solid var(--primary);
        }
        
        .stat-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.12);
        }
        
        .stat-card h3 {
            color: #999;
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }
        
        .stat-value {
            font-size: 28px;
            font-weight: bold;
            color: #333;
        }
        
        .stat-label {
            color: #666;
            font-size: 13px;
            margin-top: 4px;
        }
        
        /* Machine Table */
        .table-container {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        thead {
            background: #f8f9fa;
        }
        
        th {
            padding: 12px;
            text-align: left;
            font-weight: 600;
            color: #666;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 2px solid #e0e0e0;
        }
        
        td {
            padding: 12px;
            border-bottom: 1px solid #f0f0f0;
            font-size: 13px;
        }
        
        tr:hover {
            background: #fafafa;
        }
        
        .machine-id {
            font-weight: 600;
            color: var(--secondary);
        }
        
        .status-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }
        
        .status-production { background: #e3f2fd; color: #1976d2; }
        .status-ready { background: #e8f5e9; color: #388e3c; }
        .status-dismantling { background: #fff3e0; color: #f57c00; }
        .status-waiting { background: #fef5e7; color: #f39c12; }
        .status-scrap { background: #ffebee; color: #c62828; }
        .status-done { background: #f3e5f5; color: #7b1fa2; }
        .status-ppap { background: #e0f2f1; color: #00796b; }
        
        .location-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .location-cz { background: #e8f5e9; color: #2e7d32; }
        .location-mex { background: #fff3e0; color: #e65100; }
        .location-scrap { background: #ffebee; color: #c62828; }
        .location-daremon { background: #e3f2fd; color: #1565c0; }
        .location-hans { background: #f3e5f5; color: #6a1b9a; }
        
        .action-buttons {
            display: flex;
            gap: 6px;
        }
        
        .btn-icon {
            width: 28px;
            height: 28px;
            border-radius: 5px;
            border: none;
            background: #f5f5f5;
            color: #666;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            font-size: 14px;
        }
        
        .btn-icon:hover {
            background: var(--primary);
            color: white;
        }
        
        /* Quick Actions Panel */
        .quick-actions {
            background: #fff3e0;
            border: 1px solid #ffb74d;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .quick-actions h3 {
            color: #e65100;
            font-size: 14px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .quick-action-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.6);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background: white;
            border-radius: 12px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            animation: slideIn 0.3s;
        }
        
        @keyframes slideIn {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        .modal-header {
            padding: 20px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
            color: white;
        }
        
        .modal-header h2 {
            font-size: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .modal-close {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: none;
            background: rgba(255,255,255,0.2);
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }
        
        .modal-close:hover {
            background: rgba(255,255,255,0.3);
        }
        
        .modal-body {
            padding: 20px;
        }
        
        .form-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        
        .form-tab {
            padding: 8px 16px;
            background: none;
            border: none;
            color: #666;
            cursor: pointer;
            font-weight: 500;
            border-radius: 6px;
            transition: all 0.3s;
        }
        
        .form-tab.active {
            background: var(--primary);
            color: white;
        }
        
        .form-section {
            display: none;
        }
        
        .form-section.active {
            display: block;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 6px;
            color: #666;
            font-weight: 500;
            font-size: 13px;
        }
        
        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 13px;
        }
        
        .form-group textarea {
            min-height: 80px;
            resize: vertical;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }
        
        .form-row-3 {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 12px;
        }
        
        .modal-footer {
            padding: 15px 20px;
            border-top: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #f8f9fa;
        }
        
        .auth-input {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .auth-input label {
            font-size: 13px;
            color: #666;
            font-weight: 500;
        }
        
        .auth-input input {
            width: 100px;
            padding: 6px 10px;
            border: 2px solid #ddd;
            border-radius: 4px;
            font-weight: 600;
            text-align: center;
        }
        
        .auth-input input:focus {
            border-color: var(--primary);
            outline: none;
        }
        
        .modal-actions {
            display: flex;
            gap: 10px;
        }
        
        /* Technical Details Section */
        .tech-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .tech-card {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            border: 1px solid #e0e0e0;
        }
        
        .tech-card h4 {
            color: var(--secondary);
            font-size: 14px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .checklist {
            list-style: none;
        }
        
        .checklist li {
            padding: 8px 0;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 13px;
        }
        
        .checklist input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }
        
        .checklist li:last-child {
            border-bottom: none;
        }
        
        /* Notification */
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 15px 20px;
            background: var(--success);
            color: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s;
            z-index: 1100;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .notification.show {
            transform: translateY(0);
            opacity: 1;
        }
        
        .notification.error {
            background: var(--danger);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .header {
                padding: 15px;
            }
            
            .header h1 {
                font-size: 18px;
            }
            
            .stats-grid {
                grid-template-columns: 1fr 1fr;
            }
            
            .form-row,
            .form-row-3 {
                grid-template-columns: 1fr;
            }
            
            .control-panel {
                padding: 10px;
            }
            
            .language-toggle {
                top: 10px;
                right: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- Language Toggle -->
    <div class="language-toggle">
        <button class="lang-btn active" onclick="switchLanguage('nl')">NL</button>
        <button class="lang-btn" onclick="switchLanguage('en')">EN</button>
    </div>
    
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>
                <span>🏭</span>
                <span id="header-title">Machine Transfer Management - Boxtel</span>
            </h1>
            <div class="header-info">
                <div class="deadline">
                    📅 <span data-translate="deadline-control">Controle deadline</span>: 31.12.2025
                </div>
                <div class="deadline critical">
                    ⚠️ <span data-translate="deadline-final">Finale deadline</span>: 31.03.2026
                </div>
                <div class="auth-status" id="authStatus">
                    🔒 <span data-translate="edit-locked">Wijzigen geblokkeerd</span>
                </div>
                <div class="user-info">
                    👤 <span id="current-user">Roy van der Berg</span> (<span data-translate="role-admin">Administrator</span>)
                </div>
            </div>
        </div>
        
        <!-- Navigation -->
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="switchTab('dashboard')">
                📊 <span data-translate="tab-dashboard">Dashboard</span>
            </button>
            <button class="nav-tab" onclick="switchTab('machines')">
                🔧 <span data-translate="tab-machines">Machines</span>
            </button>
            <button class="nav-tab" onclick="switchTab('planning')">
                📅 <span data-translate="tab-planning">Planning</span>
            </button>
            <button class="nav-tab" onclick="switchTab('technical')">
                ⚙️ <span data-translate="tab-technical">Technisch</span>
            </button>
            <button class="nav-tab" onclick="switchTab('companies')">
                🏢 <span data-translate="tab-companies">Bedrijven</span>
            </button>
            <button class="nav-tab" onclick="switchTab('team')">
                👥 <span data-translate="tab-team">Team</span>
            </button>
            <button class="nav-tab" onclick="switchTab('documents')">
                📁 <span data-translate="tab-documents">Documenten</span>
            </button>
            <button class="nav-tab" onclick="switchTab('reports')">
                📈 <span data-translate="tab-reports">Rapporten</span>
            </button>
        </div>
        
        <!-- Control Panel -->
        <div class="control-panel">
            <button class="btn btn-primary" onclick="openModal('machine')">
                ➕ <span data-translate="add-machine">Machine toevoegen</span>
            </button>
            <button class="btn btn-secondary" onclick="openModal('company')">
                🏢 <span data-translate="add-company">Bedrijf toevoegen</span>
            </button>
            <button class="btn btn-secondary" onclick="openModal('employee')">
                👤 <span data-translate="add-employee">Medewerker</span>
            </button>
            <button class="btn btn-secondary">
                📥 <span data-translate="import-excel">Import Excel</span>
            </button>
            <button class="btn btn-secondary">
                📤 <span data-translate="export-pdf">Export PDF</span>
            </button>
            <button class="btn btn-success" onclick="unlockEditing()">
                🔓 <span data-translate="unlock-edit">Ontgrendel</span>
            </button>
            <div class="search-box">
                <input type="text" placeholder="🔍 Zoek machine, nummer, lijn..." id="search-input">
            </div>
            <div class="filter-group">
                <label data-translate="filter-status">Status:</label>
                <select id="status-filter">
                    <option value="all" data-translate="all">Alle</option>
                    <option value="production">In productie</option>
                    <option value="ready">Gereed transport</option>
                    <option value="dismantling">Demontage</option>
                    <option value="waiting">Wacht op Roy</option>
                    <option value="done">Done</option>
                    <option value="ppap">PPAP</option>
                </select>
            </div>
            <div class="filter-group">
                <label data-translate="filter-location">Locatie:</label>
                <select id="location-filter">
                    <option value="all" data-translate="all">Alle</option>
                    <option value="cz">CZ (Tsjechië)</option>
                    <option value="mex">Mex (Mexico)</option>
                    <option value="verschrot">Verschrot</option>
                    <option value="daremon">Daremon</option>
                    <option value="hans">Hans</option>
                    <option value="boerboom">Boerboom</option>
                </select>
            </div>
        </div>
        
        <!-- Content -->
        <div class="content">
            <!-- Dashboard View -->
            <div id="dashboard" class="view active">
                <!-- Quick Actions -->
                <div class="quick-actions">
                    <h3>
                        ⚡ <span data-translate="urgent-actions">Urgente acties deze week</span>
                    </h3>
                    <div class="quick-action-buttons">
                        <button class="btn btn-warning">
                            📋 PPAP controle (3 machines)
                        </button>
                        <button class="btn btn-danger">
                            🚨 Cleanroom voorbereiding
                        </button>
                        <button class="btn btn-primary">
                            📦 Transport planning CZ
                        </button>
                    </div>
                </div>
                
                <!-- Statistics -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3 data-translate="total-machines">TOTAAL MACHINES</h3>
                        <div class="stat-value">52</div>
                        <div class="stat-label">Spuitgiet + Equipment</div>
                    </div>
                    <div class="stat-card" style="border-left-color: #1976d2;">
                        <h3 data-translate="to-cz">NAAR CZ</h3>
                        <div class="stat-value" style="color: #1976d2;">21</div>
                        <div class="stat-label">Machines</div>
                    </div>
                    <div class="stat-card" style="border-left-color: #e65100;">
                        <h3 data-translate="to-mexico">NAAR MEXICO</h3>
                        <div class="stat-value" style="color: #e65100;">12</div>
                        <div class="stat-label">Machines</div>
                    </div>
                    <div class="stat-card" style="border-left-color: #f44336;">
                        <h3>VERSCHROT</h3>
                        <div class="stat-value" style="color: #f44336;">8</div>
                        <div class="stat-label">Machines</div>
                    </div>
                    <div class="stat-card" style="border-left-color: #4CAF50;">
                        <h3>DONE</h3>
                        <div class="stat-value" style="color: #4CAF50;">6</div>
                        <div class="stat-label">Transport compleet</div>
                    </div>
                    <div class="stat-card" style="border-left-color: #FF9800;">
                        <h3 data-translate="waiting">WACHTEND</h3>
                        <div class="stat-value" style="color: #FF9800;">5</div>
                        <div class="stat-label">Op beslissing</div>
                    </div>
                </div>
                
                <!-- Recent Machines Table -->
                <h3 style="margin: 20px 0 15px; color: #333;" data-translate="recent-updates">Recente updates</h3>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th data-translate="machine-name">Machine</th>
                                <th>Nr.</th>
                                <th>Status</th>
                                <th data-translate="destination">Bestemming</th>
                                <th data-translate="line">Lijn</th>
                                <th data-translate="responsible">Verantwoordelijk</th>
                                <th data-translate="notes">Opmerkingen</th>
                                <th data-translate="actions">Acties</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="machine-id">Spuitgietmachine</td>
                                <td>23</td>
                                <td><span class="status-badge status-ready">Gereed transport</span></td>
                                <td><span class="location-badge location-cz">CZ</span></td>
                                <td>Lijn 2</td>
                                <td>Roy</td>
                                <td>PPAP vereist</td>
                                <td class="action-buttons">
                                    <button class="btn-icon" onclick="editMachine(23)" title="Bewerken">✏️</button>
                                    <button class="btn-icon" onclick="viewDetails(23)" title="Details">👁️</button>
                                    <button class="btn-icon" onclick="viewHistory(23)" title="Historie">📜</button>
                                </td>
                            </tr>
                            <tr>
                                <td class="machine-id">Spuitgietmachine</td>
                                <td>27</td>
                                <td><span class="status-badge status-production">In productie</span></td>
                                <td><span class="location-badge location-cz">CZ</span></td>
                                <td>Lijn 1</td>
                                <td>Jiri</td>
                                <td>PPAP in proces</td>
                                <td class="action-buttons">
                                    <button class="btn-icon" onclick="editMachine(27)" title="Bewerken">✏️</button>
                                    <button class="btn-icon" onclick="viewDetails(27)" title="Details">👁️</button>
                                    <button class="btn-icon" onclick="viewHistory(27)" title="Historie">📜</button>
                                </td>
                            </tr>
                            <tr>
                                <td class="machine-id">Spuitgietmachine 2K</td>
                                <td>43</td>
                                <td><span class="status-badge status-waiting">Wacht op Roy</span></td>
                                <td><span class="location-badge">Niet toegewezen</span></td>
                                <td>-</td>
                                <td>Roy</td>
                                <td>2K-oud, beslissing nodig</td>
                                <td class="action-buttons">
                                    <button class="btn-icon" onclick="editMachine(43)" title="Bewerken">✏️</button>
                                    <button class="btn-icon" onclick="viewDetails(43)" title="Details">👁️</button>
                                    <button class="btn-icon" onclick="viewHistory(43)" title="Historie">📜</button>
                                </td>
                            </tr>
                            <tr>
                                <td class="machine-id">Duif</td>
                                <td>-</td>
                                <td><span class="status-badge status-dismantling">Demontage</span></td>
                                <td><span class="location-badge location-cz">CZ</span></td>
                                <td>Lijn 1</td>
                                <td>Hans</td>
                                <td>Onderdeel van lijn 1</td>
                                <td class="action-buttons">
                                    <button class="btn-icon" onclick="editMachine('duif-1')" title="Bewerken">✏️</button>
                                    <button class="btn-icon" onclick="viewDetails('duif-1')" title="Details">👁️</button>
                                    <button class="btn-icon" onclick="viewHistory('duif-1')" title="Historie">📜</button>
                                </td>
                            </tr>
                            <tr>
                                <td class="machine-id">Jung400/afkort</td>
                                <td>-</td>
                                <td><span class="status-badge status-waiting">Blijft tot Q1</span></td>
                                <td><span class="location-badge">Boerboom</span></td>
                                <td>-</td>
                                <td>Patrick</td>
                                <td>Blijft staan tot Q1 2026</td>
                                <td class="action-buttons">
                                    <button class="btn-icon" onclick="editMachine('jung400')" title="Bewerken">✏️</button>
                                    <button class="btn-icon" onclick="viewDetails('jung400')" title="Details">👁️</button>
                                    <button class="btn-icon" onclick="viewHistory('jung400')" title="Historie">📜</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- Technical View -->
            <div id="technical" class="view" style="display: none;">
                <h3 style="margin-bottom: 20px; color: #333;" data-translate="tech-checklist">Technische Checklist</h3>
                
                <div class="tech-grid">
                    <div class="tech-card">
                        <h4>⚡ Elektrisch</h4>
                        <ul class="checklist">
                            <li><input type="checkbox"> Hoofdschakelaar uitgeschakeld</li>
                            <li><input type="checkbox"> Kabels gelabeld</li>
                            <li><input type="checkbox"> Stroomvoorziening gedocumenteerd</li>
                            <li><input type="checkbox"> Aarding gecontroleerd</li>
                            <li><input type="checkbox"> Noodstop getest</li>
                        </ul>
                    </div>
                    
                    <div class="tech-card">
                        <h4>💧 Hydrauliek/Pneumatiek</h4>
                        <ul class="checklist">
                            <li><input type="checkbox"> Olie afgetapt</li>
                            <li><input type="checkbox"> Leidingen ontlucht</li>
                            <li><input type="checkbox"> Filters vervangen</li>
                            <li><input type="checkbox"> Druk afgelaten</li>
                            <li><input type="checkbox"> Aansluitingen gedocumenteerd</li>
                        </ul>
                    </div>
                    
                    <div class="tech-card">
                        <h4>🔧 Mechanisch</h4>
                        <ul class="checklist">
                            <li><input type="checkbox"> Bewegende delen geblokkeerd</li>
                            <li><input type="checkbox"> Smeerpunten gemarkeerd</li>
                            <li><input type="checkbox"> Bevestigingspunten geïnspecteerd</li>
                            <li><input type="checkbox"> Transport beveiliging aangebracht</li>
                            <li><input type="checkbox"> Gewicht geverifieerd</li>
                        </ul>
                    </div>
                    
                    <div class="tech-card">
                        <h4>📋 Documentatie</h4>
                        <ul class="checklist">
                            <li><input type="checkbox"> Technische tekeningen</li>
                            <li><input type="checkbox"> CE certificering</li>
                            <li><input type="checkbox"> Onderhoudshistorie</li>
                            <li><input type="checkbox"> Software backups</li>
                            <li><input type="checkbox"> Handleidingen</li>
                        </ul>
                    </div>
                    
                    <div class="tech-card">
                        <h4>🚛 Transport</h4>
                        <ul class="checklist">
                            <li><input type="checkbox"> Afmetingen geverifieerd</li>
                            <li><input type="checkbox"> Hijspunten gemarkeerd</li>
                            <li><input type="checkbox"> Verpakkingsmateriaal</li>
                            <li><input type="checkbox"> Transporteur geboekt</li>
                            <li><input type="checkbox"> Douane documenten</li>
                        </ul>
                    </div>
                    
                    <div class="tech-card">
                        <h4>🏭 Installatie locatie</h4>
                        <ul class="checklist">
                            <li><input type="checkbox"> Fundatie voorbereid</li>
                            <li><input type="checkbox"> Utilities beschikbaar</li>
                            <li><input type="checkbox"> Ruimte vrijgemaakt</li>
                            <li><input type="checkbox"> Personeel geïnformeerd</li>
                            <li><input type="checkbox"> Veiligheidszone afgebakend</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Machine Modal -->
    <div class="modal" id="machineModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>
                    <span>🔧</span>
                    <span data-translate="add-edit-machine">Machine Toevoegen/Bewerken</span>
                </h2>
                <button class="modal-close" onclick="closeModal()">×</button>
            </div>
            <div class="modal-body">
                <!-- Form Tabs -->
                <div class="form-tabs">
                    <button class="form-tab active" onclick="switchFormTab('basic')">
                        <span data-translate="basic-info">Basis Info</span>
                    </button>
                    <button class="form-tab" onclick="switchFormTab('technical')">
                        <span data-translate="technical-details">Technisch</span>
                    </button>
                    <button class="form-tab" onclick="switchFormTab('planning')">
                        <span data-translate="planning">Planning</span>
                    </button>
                    <button class="form-tab" onclick="switchFormTab('documents')">
                        <span data-translate="documents">Documenten</span>
                    </button>
                </div>
                
                <!-- Basic Info Section -->
                <div class="form-section active" id="basic-section">
                    <div class="form-row">
                        <div class="form-group">
                            <label data-translate="machine-type">Machine Type*</label>
                            <select id="machine-type">
                                <option>Spuitgietmachine</option>
                                <option>Spuitgietmachine 2K</option>
                                <option>Duif</option>
                                <option>Koot</option>
                                <option>Bergstein</option>
                                <option>Amori</option>
                                <option>Tantec</option>
                                <option>Deckel</option>
                                <option>Jung400/afkort machine</option>
                                <option>Erowasysteem</option>
                                <option>Hydraulic press</option>
                                <option>Sodick AG600L</option>
                                <option>Anders</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label data-translate="machine-number">Machine Nummer</label>
                            <input type="text" id="machine-number" placeholder="Bijv. 23, 44, etc.">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Status*</label>
                            <select id="machine-status">
                                <option>In productie</option>
                                <option>Gereed voor transport</option>
                                <option>Gereed voor demontage</option>
                                <option>Wacht op Roy</option>
                                <option>Wacht op beslissing</option>
                                <option>Done</option>
                                <option>PPAP vereist</option>
                                <option>Blijft tot Q1</option>
                                <option>Verschrot</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label data-translate="destination">Bestemming*</label>
                            <select id="machine-destination">
                                <option>CZ (Tsjechië)</option>
                                <option>Mex (Mexico)</option>
                                <option>Verschrot</option>
                                <option>Daremon</option>
                                <option>Hans (gebouw)</option>
                                <option>Boerboom</option>
                                <option>Niet toegewezen</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label data-translate="production-line">Productielijn</label>
                            <select id="machine-line">
                                <option>Lijn 1</option>
                                <option>Lijn 2</option>
                                <option>Lijn 3</option>
                                <option>Cleanroom</option>
                                <option>Stamping</option>
                                <option>Assembly</option>
                                <option>Geen</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label data-translate="responsible-person">Verantwoordelijke*</label>
                            <select id="machine-responsible">
                                <option>Roy</option>
                                <option>Jiri</option>
                                <option>Hans</option>
                                <option>Remon</option>
                                <option>Patrick</option>
                                <option>Jon</option>
                                <option>Wil</option>
                                <option>Berry</option>
                                <option>Mark</option>
                                <option>Adrian</option>
                                <option>Jeffrey</option>
                                <option>John L.</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label data-translate="notes">Opmerkingen</label>
                        <textarea id="machine-notes" placeholder="Bijv. PPAP vereist, Wacht op goedkeuring, Speciale handling..."></textarea>
                    </div>
                </div>
                
                <!-- Technical Section -->
                <div class="form-section" id="technical-section">
                    <div class="form-row-3">
                        <div class="form-group">
                            <label data-translate="weight">Gewicht (kg)</label>
                            <input type="number" id="machine-weight" placeholder="2500">
                        </div>
                        <div class="form-group">
                            <label data-translate="dimensions">Afmetingen (LxBxH m)</label>
                            <input type="text" id="machine-dimensions" placeholder="3.0 x 2.5 x 2.0">
                        </div>
                        <div class="form-group">
                            <label data-translate="power">Vermogen (kW)</label>
                            <input type="number" id="machine-power" placeholder="75">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label data-translate="voltage">Spanning</label>
                            <select id="machine-voltage">
                                <option>400V 3-fase</option>
                                <option>230V 1-fase</option>
                                <option>480V 3-fase</option>
                                <option>Anders</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label data-translate="oil-type">Olie type</label>
                            <input type="text" id="machine-oil" placeholder="Hydraulische olie type">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label data-translate="special-requirements">Speciale vereisten</label>
                        <textarea id="machine-requirements" placeholder="Cleanroom compatibel, Speciale hijspunten, Klimaatcontrole vereist..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label data-translate="hazardous-materials">Gevaarlijke stoffen</label>
                        <textarea id="machine-hazmat" placeholder="Lijst van gevaarlijke stoffen die verwijderd moeten worden..."></textarea>
                    </div>
                </div>
                
                <!-- Planning Section -->
                <div class="form-section" id="planning-section">
                    <div class="form-row">
                        <div class="form-group">
                            <label data-translate="dismantling-date">Demontage datum</label>
                            <input type="date" id="dismantling-date">
                        </div>
                        <div class="form-group">
                            <label data-translate="transport-date">Transport datum</label>
                            <input type="date" id="transport-date">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label data-translate="installation-date">Installatie datum</label>
                            <input type="date" id="installation-date">
                        </div>
                        <div class="form-group">
                            <label data-translate="ppap-date">PPAP datum</label>
                            <input type="date" id="ppap-date">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label data-translate="transport-company">Transport bedrijf</label>
                        <select id="transport-company">
                            <option>Niet toegewezen</option>
                            <option>Boerboom Transport</option>
                            <option>Van der Vlist</option>
                            <option>Mammoet</option>
                            <option>Anders</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label data-translate="planning-notes">Planning opmerkingen</label>
                        <textarea id="planning-notes" placeholder="Speciale planning vereisten..."></textarea>
                    </div>
                </div>
                
                <!-- Documents Section -->
                <div class="form-section" id="documents-section">
                    <div class="form-group">
                        <label data-translate="upload-photos">Foto's uploaden</label>
                        <input type="file" multiple accept="image/*" id="machine-photos">
                    </div>
                    
                    <div class="form-group">
                        <label data-translate="upload-documents">Documenten uploaden</label>
                        <input type="file" multiple accept=".pdf,.doc,.docx,.xls,.xlsx" id="machine-documents">
                    </div>
                    
                    <div class="form-group">
                        <label data-translate="ce-certificate">CE Certificaat nummer</label>
                        <input type="text" id="ce-certificate" placeholder="CE-2025-XXXX">
                    </div>
                    
                    <div class="form-group">
                        <label data-translate="manual-link">Link naar handleiding</label>
                        <input type="url" id="manual-link" placeholder="https://...">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <div class="auth-input">
                    <label data-translate="auth-code">Autorisatie code:</label>
                    <input type="text" id="auth-code" placeholder="XXX" maxlength="3">
                </div>
                <div class="modal-actions">
                    <button class="btn btn-secondary" onclick="closeModal()">
                        <span data-translate="cancel">Annuleren</span>
                    </button>
                    <button class="btn btn-primary" onclick="saveMachine()">
                        <span data-translate="save">Opslaan</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Notification -->
    <div class="notification" id="notification">
        <span id="notification-icon">✓</span>
        <span id="notification-text">Wijzigingen opgeslagen!</span>
    </div>
    
    <!-- JavaScript -->
    <script>
        // Language data
        const translations = {
            nl: {
                'header-title': 'Machine Transfer Management - Boxtel',
                'deadline-control': 'Controle deadline',
                'deadline-final': 'Finale deadline',
                'edit-locked': 'Wijzigen geblokkeerd',
                'edit-unlocked': 'Wijzigen toegestaan',
                'role-admin': 'Administrator',
                'role-tech': 'Technicus',
                'role-viewer': 'Kijker',
                'tab-dashboard': 'Dashboard',
                'tab-machines': 'Machines',
                'tab-planning': 'Planning',
                'tab-technical': 'Technisch',
                'tab-companies': 'Bedrijven',
                'tab-team': 'Team',
                'tab-documents': 'Documenten',
                'tab-reports': 'Rapporten',
                'add-machine': 'Machine toevoegen',
                'add-company': 'Bedrijf toevoegen',
                'add-employee': 'Medewerker',
                'import-excel': 'Import Excel',
                'export-pdf': 'Export PDF',
                'unlock-edit': 'Ontgrendel',
                'lock-edit': 'Vergrendel',
                'filter-status': 'Status:',
                'filter-location': 'Locatie:',
                'all': 'Alle',
                'urgent-actions': 'Urgente acties deze week',
                'total-machines': 'TOTAAL MACHINES',
                'to-cz': 'NAAR CZ',
                'to-mexico': 'NAAR MEXICO',
                'waiting': 'WACHTEND',
                'recent-updates': 'Recente updates',
                'machine-name': 'Machine',
                'destination': 'Bestemming',
                'line': 'Lijn',
                'responsible': 'Verantwoordelijk',
                'notes': 'Opmerkingen',
                'actions': 'Acties',
                'add-edit-machine': 'Machine Toevoegen/Bewerken',
                'basic-info': 'Basis Info',
                'technical-details': 'Technisch',
                'planning': 'Planning',
                'documents': 'Documenten',
                'machine-type': 'Machine Type',
                'machine-number': 'Machine Nummer',
                'production-line': 'Productielijn',
                'responsible-person': 'Verantwoordelijke',
                'weight': 'Gewicht (kg)',
                'dimensions': 'Afmetingen (LxBxH m)',
                'power': 'Vermogen (kW)',
                'voltage': 'Spanning',
                'oil-type': 'Olie type',
                'special-requirements': 'Speciale vereisten',
                'hazardous-materials': 'Gevaarlijke stoffen',
                'dismantling-date': 'Demontage datum',
                'transport-date': 'Transport datum',
                'installation-date': 'Installatie datum',
                'ppap-date': 'PPAP datum',
                'transport-company': 'Transport bedrijf',
                'planning-notes': 'Planning opmerkingen',
                'upload-photos': 'Foto\'s uploaden',
                'upload-documents': 'Documenten uploaden',
                'ce-certificate': 'CE Certificaat nummer',
                'manual-link': 'Link naar handleiding',
                'auth-code': 'Autorisatie code:',
                'cancel': 'Annuleren',
                'save': 'Opslaan',
                'tech-checklist': 'Technische Checklist',
                'search-placeholder': '🔍 Zoek machine, nummer, lijn...',
                'auth-success': '✓ Wijzigen ontgrendeld voor 30 minuten',
                'auth-fail': '✗ Onjuiste code',
                'save-success': '✓ Wijzigingen opgeslagen!',
                'save-fail': '✗ Autorisatie vereist (code: 112)'
            },
            en: {
                'header-title': 'Machine Transfer Management - Boxtel',
                'deadline-control': 'Control deadline',
                'deadline-final': 'Final deadline',
                'edit-locked': 'Editing locked',
                'edit-unlocked': 'Editing allowed',
                'role-admin': 'Administrator',
                'role-tech': 'Technician',
                'role-viewer': 'Viewer',
                'tab-dashboard': 'Dashboard',
                'tab-machines': 'Machines',
                'tab-planning': 'Planning',
                'tab-technical': 'Technical',
                'tab-companies': 'Companies',
                'tab-team': 'Team',
                'tab-documents': 'Documents',
                'tab-reports': 'Reports',
                'add-machine': 'Add Machine',
                'add-company': 'Add Company',
                'add-employee': 'Employee',
                'import-excel': 'Import Excel',
                'export-pdf': 'Export PDF',
                'unlock-edit': 'Unlock',
                'lock-edit': 'Lock',
                'filter-status': 'Status:',
                'filter-location': 'Location:',
                'all': 'All',
                'urgent-actions': 'Urgent actions this week',
                'total-machines': 'TOTAL MACHINES',
                'to-cz': 'TO CZ',
                'to-mexico': 'TO MEXICO',
                'waiting': 'WAITING',
                'recent-updates': 'Recent updates',
                'machine-name': 'Machine',
                'destination': 'Destination',
                'line': 'Line',
                'responsible': 'Responsible',
                'notes': 'Notes',
                'actions': 'Actions',
                'add-edit-machine': 'Add/Edit Machine',
                'basic-info': 'Basic Info',
                'technical-details': 'Technical',
                'planning': 'Planning',
                'documents': 'Documents',
                'machine-type': 'Machine Type',
                'machine-number': 'Machine Number',
                'production-line': 'Production Line',
                'responsible-person': 'Responsible Person',
                'weight': 'Weight (kg)',
                'dimensions': 'Dimensions (LxWxH m)',
                'power': 'Power (kW)',
                'voltage': 'Voltage',
                'oil-type': 'Oil type',
                'special-requirements': 'Special requirements',
                'hazardous-materials': 'Hazardous materials',
                'dismantling-date': 'Dismantling date',
                'transport-date': 'Transport date',
                'installation-date': 'Installation date',
                'ppap-date': 'PPAP date',
                'transport-company': 'Transport company',
                'planning-notes': 'Planning notes',
                'upload-photos': 'Upload photos',
                'upload-documents': 'Upload documents',
                'ce-certificate': 'CE Certificate number',
                'manual-link': 'Manual link',
                'auth-code': 'Authorization code:',
                'cancel': 'Cancel',
                'save': 'Save',
                'tech-checklist': 'Technical Checklist',
                'search-placeholder': '🔍 Search machine, number, line...',
                'auth-success': '✓ Editing unlocked for 30 minutes',
                'auth-fail': '✗ Incorrect code',
                'save-success': '✓ Changes saved!',
                'save-fail': '✗ Authorization required (code: 112)'
            }
        };
        
        let currentLang = 'nl';
        let editingEnabled = false;
        let authTimeout = null;
        
        // Switch language
        function switchLanguage(lang) {
            currentLang = lang;
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.toggle('active', btn.textContent.toLowerCase() === lang);
            });
            
            // Update all translations
            document.querySelectorAll('[data-translate]').forEach(element => {
                const key = element.getAttribute('data-translate');
                if (translations[lang][key]) {
                    element.textContent = translations[lang][key];
                }
            });
            
            // Update placeholders
            const searchInput = document.getElementById('search-input');
            if (searchInput) {
                searchInput.placeholder = translations[lang]['search-placeholder'];
            }
        }
        
        // Switch tabs
        function switchTab(tabName) {
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.view').forEach(view => {
                view.style.display = 'none';
            });
            
            event.target.classList.add('active');
            const view = document.getElementById(tabName);
            if (view) {
                view.style.display = 'block';
            }
        }
        
        // Switch form tabs
        function switchFormTab(tabName) {
            document.querySelectorAll('.form-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.form-section').forEach(section => {
                section.classList.remove('active');
            });
            
            event.target.classList.add('active');
            document.getElementById(tabName + '-section').classList.add('active');
        }
        
        // Open modal
        function openModal(type) {
            if (!editingEnabled) {
                showNotification(translations[currentLang]['save-fail'], 'error');
                return;
            }
            
            const modal = document.getElementById('machineModal');
            if (modal) {
                modal.classList.add('active');
            }
        }
        
        // Close modal
        function closeModal() {
            document.querySelectorAll('.modal').forEach(modal => {
                modal.classList.remove('active');
            });
        }
        
        // Unlock editing
        function unlockEditing() {
            const code = prompt(translations[currentLang]['auth-code']);
            if (code === '112') {
                editingEnabled = true;
                document.getElementById('authStatus').innerHTML = `
                    🔓 <span data-translate="edit-unlocked">${translations[currentLang]['edit-unlocked']}</span>
                `;
                document.getElementById('authStatus').classList.remove('locked');
                
                showNotification(translations[currentLang]['auth-success'], 'success');
                
                // Auto-lock after 30 minutes
                if (authTimeout) clearTimeout(authTimeout);
                authTimeout = setTimeout(() => {
                    lockEditing();
                }, 30 * 60 * 1000);
            } else {
                showNotification(translations[currentLang]['auth-fail'], 'error');
            }
        }
        
        // Lock editing
        function lockEditing() {
            editingEnabled = false;
            document.getElementById('authStatus').innerHTML = `
                🔒 <span data-translate="edit-locked">${translations[currentLang]['edit-locked']}</span>
            `;
            document.getElementById('authStatus').classList.add('locked');
        }
        
        // Save machine
        function saveMachine() {
            const authCode = document.getElementById('auth-code').value;
            
            if (authCode !== '112') {
                showNotification(translations[currentLang]['save-fail'], 'error');
                return;
            }
            
            // Collect form data
            const machineData = {
                type: document.getElementById('machine-type').value,
                number: document.getElementById('machine-number').value,
                status: document.getElementById('machine-status').value,
                destination: document.getElementById('machine-destination').value,
                line: document.getElementById('machine-line').value,
                responsible: document.getElementById('machine-responsible').value,
                notes: document.getElementById('machine-notes').value,
                weight: document.getElementById('machine-weight').value,
                dimensions: document.getElementById('machine-dimensions').value,
                power: document.getElementById('machine-power').value,
                voltage: document.getElementById('machine-voltage').value,
                oil: document.getElementById('machine-oil').value,
                requirements: document.getElementById('machine-requirements').value,
                hazmat: document.getElementById('machine-hazmat').value,
                dismantlingDate: document.getElementById('dismantling-date').value,
                transportDate: document.getElementById('transport-date').value,
                installationDate: document.getElementById('installation-date').value,
                ppapDate: document.getElementById('ppap-date').value,
                transportCompany: document.getElementById('transport-company').value,
                planningNotes: document.getElementById('planning-notes').value,
                ceCertificate: document.getElementById('ce-certificate').value,
                manualLink: document.getElementById('manual-link').value
            };
            
            // Save to localStorage (in real app, this would be an API call)
            localStorage.setItem('machine_' + Date.now(), JSON.stringify(machineData));
            
            showNotification(translations[currentLang]['save-success'], 'success');
            closeModal();
            
            // Clear auth code
            document.getElementById('auth-code').value = '';
            
            // Refresh the table (in real app, would reload from database)
            setTimeout(() => {
                location.reload();
            }, 1500);
        }
        
        // Edit machine
        function editMachine(id) {
            if (!editingEnabled) {
                showNotification(translations[currentLang]['save-fail'], 'error');
                return;
            }
            openModal('machine');
            // In real app, would load machine data here
        }
        
        // View details
        function viewDetails(id) {
            // In real app, would show detailed view
            console.log('Viewing details for machine:', id);
        }
        
        // View history
        function viewHistory(id) {
            // In real app, would show history log
            console.log('Viewing history for machine:', id);
        }
        
        // Show notification
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notification-text');
            const notificationIcon = document.getElementById('notification-icon');
            
            notificationText.textContent = message;
            notificationIcon.textContent = type === 'success' ? '✓' : '✗';
            
            notification.classList.remove('error');
            if (type === 'error') {
                notification.classList.add('error');
            }
            
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Set default language
            switchLanguage('nl');
            
            // Close modals when clicking outside
            document.querySelectorAll('.modal').forEach(modal => {
                modal.addEventListener('click', function(e) {
                    if (e.target === modal) {
                        closeModal();
                    }
                });
            });
            
            // Search functionality
            document.getElementById('search-input')?.addEventListener('input', function(e) {
                const searchTerm = e.target.value.toLowerCase();
                // In real app, would filter the table
                console.log('Searching for:', searchTerm);
            });
            
            // Filter functionality
            document.getElementById('status-filter')?.addEventListener('change', function(e) {
                const filterValue = e.target.value;
                // In real app, would filter the table
                console.log('Filtering by status:', filterValue);
            });
            
            document.getElementById('location-filter')?.addEventListener('change', function(e) {
                const filterValue = e.target.value;
                // In real app, would filter the table
                console.log('Filtering by location:', filterValue);
            });
            
            // Handle keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                // Ctrl/Cmd + K for search
                if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                    e.preventDefault();
                    document.getElementById('search-input')?.focus();
                }
                
                // Escape to close modals
                if (e.key === 'Escape') {
                    closeModal();
                }
            });
            
            // Auto-save draft every 30 seconds when modal is open
            setInterval(() => {
                const modal = document.querySelector('.modal.active');
                if (modal && editingEnabled) {
                    // In real app, would save draft to localStorage
                    console.log('Auto-saving draft...');
                }
            }, 30000);
            
            // Check for unsaved changes before leaving
            window.addEventListener('beforeunload', function(e) {
                const modal = document.querySelector('.modal.active');
                if (modal && editingEnabled) {
                    e.preventDefault();
                    e.returnValue = '';
                }
            });
        });
        
        // Export functions for use in HTML
        window.switchLanguage = switchLanguage;
        window.switchTab = switchTab;
        window.switchFormTab = switchFormTab;
        window.openModal = openModal;
        window.closeModal = closeModal;
        window.unlockEditing = unlockEditing;
        window.saveMachine = saveMachine;
        window.editMachine = editMachine;
        window.viewDetails = viewDetails;
        window.viewHistory = viewHistory;
    </script>
</body>
</html>